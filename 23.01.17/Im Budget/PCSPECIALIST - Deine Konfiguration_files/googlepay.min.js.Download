function getGoogleIsReadyToPayRequest(){return Object.assign({},baseRequest,{allowedPaymentMethods:[baseCardPaymentMethod]})}function getGooglePaymentDataRequest(){const e=Object.assign({},baseRequest);return e.allowedPaymentMethods=[cardPaymentMethod],e.transactionInfo=getGoogleTransactionInfo(),e.merchantInfo={merchantId:"BCR2DN4TXSSKB6R2",merchantName:"PCSpecialist"},e}function getGooglePaymentsClient(){return null===paymentsClient&&(paymentsClient=new google.payments.api.PaymentsClient({environment:"PRODUCTION"})),paymentsClient}function onGooglePayLoaded(){const e=getGooglePaymentsClient();e.isReadyToPay(getGoogleIsReadyToPayRequest()).then(function(e){e.result&&(addGooglePayButton(),prefetchGooglePaymentData())}).catch(function(e){console.error(e)})}function addGooglePayButton(){const e=getGooglePaymentsClient(),t=e.createButton({onClick:onGooglePaymentButtonClicked,buttonType:"long",allowedPaymentMethods:[baseCardPaymentMethod]});document.getElementById("gpaybutton").append(t),document.getElementById("payment-divider").style.display="inline-block"}function onGooglePaymentButtonClicked(){if(document.getElementById("pmethod").value="24",!check_fields("/payment/"))return!1;const e=getGooglePaymentDataRequest();e.transactionInfo=getGoogleTransactionInfo();const t=getGooglePaymentsClient();t.loadPaymentData(e).then(function(e){processPayment(e)}).catch(function(e){document.getElementById("pmethod").value="0",console.error(e)})}function processPayment(e){$.post("/misc/googlepay_outcome.php",{signature:JSON.parse(e.paymentMethodData.tokenizationData.token).signature,protocolVersion:JSON.parse(e.paymentMethodData.tokenizationData.token).protocolVersion,signedMessage:JSON.parse(e.paymentMethodData.tokenizationData.token).signedMessage},function(e,t){document.getElementById("gpay").value=encodeURIComponent(e),document.getElementById("pmethod").value=24,document.getElementById("pt0").style.display="none",document.getElementById("pt1").style.display="none",document.getElementById("pt16").style.display="none",document.getElementById("outcome").style.display="none",document.getElementById("outcome").innerHTML=" ",document.getElementById("ajaxloader").style.display="inline-block",document.getElementById("surcharge_text").style.display="none",pcs_retrieve_post("/misc/insert_new_order.php","checkout")})}const baseRequest={apiVersion:2,apiVersionMinor:0},allowedCardNetworks=["MASTERCARD","VISA"],allowedCardAuthMethods=["PAN_ONLY","CRYPTOGRAM_3DS"],baseCardPaymentMethod={type:"CARD",parameters:{allowedAuthMethods:allowedCardAuthMethods,allowedCardNetworks:allowedCardNetworks}},cardPaymentMethod=Object.assign({},baseCardPaymentMethod,{tokenizationSpecification:tokenizationSpecification});let paymentsClient=null;