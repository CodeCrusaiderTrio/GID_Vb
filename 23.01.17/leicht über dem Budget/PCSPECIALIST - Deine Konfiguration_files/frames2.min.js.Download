function clearErrorIcon(e){var t=document.getElementById("icon-"+e+"-error");t.style.removeProperty("display")}function showPaymentMethodIcon(e,t){e&&e.classList.add("show");var r=document.getElementById("logo-payment-method");if(t){var o=t.toLowerCase();r.setAttribute("src","/images/checkout-payment-icons/"+o+".svg"),r.setAttribute("alt",t||"payment method")}r.style.removeProperty("display")}function clearPaymentMethodIcon(e){e&&e.classList.remove("show");var t=document.getElementById("logo-payment-method");t.style.setProperty("display","none")}function setDefaultIcon(e){var t="icon-"+e,r=document.getElementById(t);r.setAttribute("src","/images/checkout-payment-icons/"+logos[e].src+".svg"),r.setAttribute("alt",logos[e].alt)}function setDefaultErrorIcon(e){var t="icon-"+e,r=document.getElementById(t);r.setAttribute("src","/images/checkout-payment-icons/"+logos[e].src+"-error.svg"),r.setAttribute("alt",logos[e].alt)}function setErrorIcon(e){var t=document.getElementById("icon-"+e+"-error");t.style.setProperty("display","block")}Frames.init({publicKey:ckpk,localization:localisation});var paymentForm=document.getElementById("checkout");let logos={"card-number":{src:"card",alt:"card number logo"},"expiry-date":{src:"exp-date",alt:"expiry date logo"},cvv:{src:"cvv",alt:"cvv logo"}};Frames.addEventHandler(Frames.Events.FRAME_VALIDATION_CHANGED,function(e){var t=e.element;e.isValid||e.isEmpty?("card-number"!==t||e.isEmpty||showPaymentMethodIcon(),setDefaultIcon(t),clearErrorIcon(t)):("card-number"===t&&clearPaymentMethodIcon(),setDefaultErrorIcon(t),setErrorIcon(t))}),Frames.addEventHandler(Frames.Events.CARD_VALIDATION_CHANGED,function(){document.getElementById("placeorder0").disabled=!Frames.isCardValid()}),Frames.addEventHandler(Frames.Events.CARD_TOKENIZATION_FAILED,function(e){pcs_retrieve("/ajax/checkout.php?error=1&&error_type=card_token")}),Frames.addEventHandler(Frames.Events.CARD_TOKENIZED,function(e){var t=e.token,r=e.scheme;Frames.addCardToken(paymentForm,t),"AMEX"==r?(pcs_retrieve("/ajax/checkout.php?surcharge=amex"),document.getElementById("blob").value="Amex",document.getElementById("placeorder0").disabled=!0,document.getElementById("card_token").value=t):t.length>0&&(document.getElementById("blob").value=t)}),Frames.addEventHandler(Frames.Events.PAYMENT_METHOD_CHANGED,function(e){var t=e.paymentMethod;let r=document.querySelector(".icon-container.payment-method");t?(clearErrorIcon("card-number"),showPaymentMethodIcon(r,t)):clearPaymentMethodIcon(r)}),paymentForm.addEventListener("submit",function(e){e.preventDefault(),Frames.enableSubmitForm(),Frames.submitCard()});